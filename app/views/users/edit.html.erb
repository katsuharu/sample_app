<% provide(:title, "プロフィール編集") %>
<% provide(:button_text, '変更を保存') %>

<h1>プロフィール編集</h1>

<div class="row">
  <div class="col-md-6 col-md-offset-3">
  <%= render 'form' %>
  </div>
</div>

<!-- トリミング -->
<div class="img-container">
	<%= image_tag(@user.profile_img.url, :id => "img−default" ,:class => "img-responsive") if @user.profile_img? %>
</div>

<!-- トリミングされた画像が表示される場所。縦横は好みで設定 -->
<canvas id="jsi-canvas" class="img-canvas" width="200" height="200"></canvas>
<!-- /トリミング -->



<form>
  <%= hidden_field_tag "user_id", @user.id %>
  <%= file_field_tag 'user[profile_img]' %>
  <%= button_tag :submit, :id => "submitBtn" %>
  <% if @user.profile_img? %>
    <div id="crop_area_box">
      <%= image_tag @user.profile_img, :id => "crop_image", :html => [:width => "600px"] %>
    </div>
  <% else %>
    <div id="crop_area_box"><img id="crop_image" /></div>
  <% end %>
  <div id="crop_preview"></div>
</form>

<!-- Cropper.jsは、当該ページ個別に読み込む -->
<%= stylesheet_link_tag    'cropper.min' %>
<%= javascript_include_tag 'cropper.min' %>
<%= javascript_include_tag 'edit_avatar' %>